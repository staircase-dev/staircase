.. _release_notes.changelog:


=========
Changelog
=========


**v2.4.1 2022-05-09**

- bugfix for empty Series warning generated by pandas when `start` or `end` arguments for :meth:`staircase.Stairs.layer` are `None` or empty list  (#GH143)


**v2.4.0 2022-05-02**

- warnings generated if using :meth:`staircase.Stairs.layer` with non-standard argument types (#GH132)
- :meth:`staircase.Stairs.fillna` can be used with :class:`staircase.Stairs` argument (#GH82)
- string representations of timestamps can be used as arguments to :meth:`staircase.Stairs.clip`, :meth:`staircase.Stairs.mask` and :meth:`staircase.Stairs.where` (#GH49)


**v2.3.0 2021-12-21**

- added :meth:`staircase.StairsArray.ge`
- added :meth:`staircase.StairsArray.gt`
- added :meth:`staircase.StairsArray.le`
- added :meth:`staircase.StairsArray.lt`
- added :meth:`staircase.StairsArray.eq`
- added :meth:`staircase.StairsArray.ne`
- added :meth:`staircase.StairsArray.negate`
- added :meth:`staircase.StairsArray.add` and :meth:`staircase.StairsArray.radd`
- added :meth:`staircase.StairsArray.subtract` and :meth:`staircase.StairsArray.rsubtract`
- added :meth:`staircase.StairsArray.multiply` and :meth:`staircase.StairsArray.rmultiply`
- added :meth:`staircase.StairsArray.divide` and :meth:`staircase.StairsArray.rdivide`


**v2.2.0 2021-11-27**

- added :class:`staircase.StairsArray` (pandas Extension Array for :class:`staircase.Stairs` objects)
- added StairsDtype (pandas ExtensionDtype)
- added :class:`StairsAccessor <staircase.core.arrays.accessor.StairsAccessor>` (pandas Series custom accessor)
- added :func:`staircase.logical_or`
- added :func:`staircase.logical_and`
- added :func:`staircase.plot`


**v2.1.1 2021-11-02**

- bugfix for :meth:`staircase.Stairs.plot` when `style="hlines"` and package numexpr installed (from pandas issue #GH34251) (#GH124)


**v2.1.0 2021-10-29**

- added support for :class:`pandas.Timedelta`, :class:`datetime.timedelta` and :class:`numpy.timedelta64`
- added :meth:`staircase.Stairs.from_values` (#GH88)

Contributors: @mesejo (Daniel Mesejo-Le√≥n)


**v2.0.4 2021-10-12**

- bugfix for array aggregation where array contains a constant value step function over non-float domain (#GH119)


**v2.0.3 2021-10-07**

- bugfix for closed attribute not preserved by addition or subtraction of Stairs when closed=="right" (#GH115)
- bugfix for staircase.core.arrays.aggregation incorrect when collection of Stairs have closed=="right" (#GH117)


**v2.0.2 2021-10-03**

- bugfix for layer function when using pandas Series with different index (#GH112)


**v2.0.1 2021-09-13**

- bugfix for incorrect closed parameter not being produced by operations with right-closed step functions (#GH95)
- bugfix for slicing with non-fixed frequency period index (#GH108)
- bugfix for Stairs binary operations with np.nan reporting incorrect number of step changes (#GH109)
- throw `ClosedMismatchError` on binary operations with different `closed` values (#GH96)

Contributors: @amagee (Andrew Magee)


**v2.0.0 2021-08-25**

- see :ref:`What's new in Version 2 <release_notes.versiontwo>`


**v1.6.6 2021-07-06**

- workaround for groupby bug in pandas 1.3.0 (GH42395)


**v1.6.5 2021-06-14**

- bugfix for :meth:`staircase.Stairs.mode`


**v1.6.4 2021-03-16**

- bugfix for broken functionality for multiplication, or division, of staircase.Stairs with a number


**v1.6.3 2021-02-26**

- bugfix for missing *lower_how* and *upper_how* parameters in :meth:`staircase.Stairs.resample`
- renamed Stairs._values to avoid error when performing Series.groupby.sum in pandas>=1.2


**v1.6.2 2020-01-13**

- efficiency improvement for :meth:`staircase.Stairs.multiply`


**v1.6.1 2020-12-30**

- bugfix for :meth:`staircase.Stairs.plot` when using datetimes and step function has no step changes


**v1.6.0 2020-11-10**

- support for `timezones` added
- bugfix for :func:`staircase.sample` when *points* == None (-inf is no longer included)
- bugfix for :func:`staircase.aggregate` where Stairs objects have non-zero value at -inf


**v1.5.2 2020-10-20**

- bugfix for :meth:`staircase.Stairs.layer` when None appears in vector parameters start and end


**v1.5.1 2020-10-15**

- removed dependency on 'private' methods in sortedcontainers
- increased upper limit for version dependency on sortedcontainers


**v1.5.0 2020-10-12**

- fixed typo in diff docstring
- extended :meth:`staircase.Stairs.values_in_range` to allow specification of how endpoints of domain should be evaluated
- extended :meth:`staircase.Stairs.min` to allow specification of how endpoints of domain should be evaluated
- extended :meth:`staircase.Stairs.max` to allow specification of how endpoints of domain should be evaluated
- extended :meth:`staircase.Stairs.sample` to allow specification of how endpoints of domain should be evaluated
- extended :meth:`staircase.Stairs.resample` to allow specification of how endpoints of domain should be evaluated
- added :meth:`staircase.Stairs.rolling_mean`
- added example usage of rolling_mean to Queue Analysis tutorial


**v1.4.0 2020-10-05**

- extended :meth:`staircase.Stairs.corr` to facilitate cross-correlation and autocorrelation
- extended :meth:`staircase.Stairs.cov` to facilitate cross-covariance and autocovariance


**v1.3.0 2020-10-01**

- added :meth:`staircase.Stairs.describe`
- added :meth:`staircase.Stairs.var` (variance)
- added :meth:`staircase.Stairs.std` (standard deviation)
- added :meth:`staircase.Stairs.corr` (correlation)
- added :meth:`staircase.Stairs.cov` (covariance)
- added :func:`staircase.cov` (pairwise covariance matrix)
- added :func:`staircase.corr` (pairwise correlation matrix)


**v1.2.0 2020-09-23**

- added :meth:`staircase.Stairs.hist`
- added :meth:`staircase.Stairs.ecdf_stairs`
- added :func:`staircase.hist_from_ecdf`
- added :func:`staircase.make_test_data`
- :meth:`staircase.Stairs.percentile_Stairs` pending deprecation in favour of :meth:`staircase.Stairs.percentile_stairs`


**v1.1.1 2020-09-22**

- bugfix for :meth:`staircase.Stairs.sample` when parameter x = float("-inf")


**v1.1.0 2020-09-15**

- added :meth:`staircase.Stairs.shift`
- added :meth:`staircase.Stairs.diff`


**v1.0.3 2020-09-08**

- *deep* parameter added to :meth:`staircase.Stairs.copy` method for pandas compatability


**v1.0.[1|2] 2020-09-02**

- bugfix with Pandas 1.1.x where SortedSet cannot be used as basis for Series or DataFrame


**v1.0.0 2020-09-01**

- updated documentation to include :ref:`A note on interval endpoints<getting_started.interval_endpoints>`
- parameter *start* in :meth:`staircase.Stairs.layer` made optional to make method symmetric with respect to time
- removed *staircase.Stairs.evaluate* method (superseded by :meth:`staircase.Stairs.sample`)
